<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Checkout — Edunancial</title>
<meta name="description" content="Secure checkout for Edunancial mini courses.">
<style>
  :root{--bg:#f5f7fb;--ink:#0b0f13;--muted:#6b7280;--card:#fff;--line:#e5e7eb;--btn:#0070ba;--btn-ink:#fff;}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
  header{display:flex;align-items:center;justify-content:space-between;background:#b91c1c;color:#fff;padding:14px 18px;font-weight:800;letter-spacing:.5px}
  main{max-width:780px;margin:18px auto;padding:0 12px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;margin-bottom:14px}
  h1{margin:0 0 6px;font-size:26px}
  .sku{color:var(--muted);margin-top:6px}
  label{font-weight:600;display:block;margin:.25rem 0 .35rem}
  select,input[type="text"]{width:100%;border:1px solid var(--line);border-radius:10px;padding:12px;font-size:16px;background:#fff}
  .row{display:grid;grid-template-columns:1fr;gap:12px}
  @media (min-width:640px){.row{grid-template-columns:1fr 1fr}}
  .inline{display:flex;align-items:center;gap:10px}
  .muted{color:var(--muted)}
  .summary{font-size:16px}
  .summary div{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed #e8e8ee}
  .summary div:last-child{border-bottom:0}
  .total{font-weight:800;font-size:20px}
  .btn{display:inline-block;text-decoration:none;background:var(--btn);color:var(--btn-ink);border:0;border-radius:10px;padding:12px 16px;font-weight:800;cursor:pointer}
  .footnote{font-size:12px;color:var(--muted);margin-top:8px}
  .warn{background:#fff7ed;border:1px solid #fed7aa;border-radius:10px;padding:10px;margin-top:10px;font-size:13px}
  code{background:#f3f4f6;padding:2px 4px;border-radius:6px}
  .lang{display:flex;gap:8px}
  .lang a{color:#fff;opacity:.8;text-decoration:none;padding:6px 10px;border:1px solid rgba(255,255,255,.25);border-radius:8px}
  .lang a.active{opacity:1;background:rgba(255,255,255,.15)}
</style>
</head>
<body>
<header>
  <div id="title">EDUNANCIAL CHECKOUT</div>
  <nav class="lang">
    <a href="#" data-lang="en" id="lnk-en" class="active">EN</a>
    <a href="#" data-lang="es" id="lnk-es">ES</a>
  </nav>
</header>

<main>
  <!-- PRODUCT -->
  <section class="card">
    <h1 id="prod-name">Mini Course: Edunancial Method</h1>
    <div class="sku" id="sku-line">
      <span id="sku-label">SKU:</span>
      <span id="sku">EDN-MINI-EM-001</span>
      • <span id="base-label">Base</span>: $<span id="base">75.00</span>
    </div>
  </section>

  <!-- CONTROLS -->
  <section class="card">
    <div class="row">
      <div>
        <label for="membership" id="lab-mem">Membership</label>
        <select id="membership" aria-label="Membership">
          <option value="none" id="opt-none">None (0%)</option>
          <option value="standard" id="opt-std">Standard (10% off courses)</option>
          <option value="premium" id="opt-pre">Premium (30% off courses)</option>
        </select>
      </div>
      <div>
        <label>&nbsp;</label>
        <div class="inline">
          <input id="under18" type="checkbox">
          <label for="under18" id="lab-u18" class="muted" style="font-weight:600">I am under 18</label>
        </div>
      </div>
    </div>

    <div style="margin-top:10px">
      <label for="code" id="lab-code">Discount / Under-18 Code</label>
      <input id="code" type="text" placeholder="Enter code (if any)">
      <div class="footnote muted" id="eb-foot">Early-bird: <strong>15% off</strong> through <span id="eb-date">09/26/2025</span> applies automatically.</div>
    </div>
  </section>

  <!-- SUMMARY -->
  <section class="card summary" id="summary">
    <div><span id="s-lbl-sub">Subtotal:</span><span id="s_sub">$75.00</span></div>
    <div><span id="s-lbl-mem">Membership discount:</span><span id="s_mem">-$0.00</span></div>
    <div><span id="s-lbl-eb">Early-bird:</span><span id="s_eb">-$0.00</span></div>
    <div><span id="s-lbl-u18">Under-18 code:</span><span id="s_u18">-$0.00</span></div>
    <div class="total"><span id="s-lbl-total">Total:</span><span id="s_total">$75.00</span></div>
  </section>

  <!-- PAYPAL LINK BUTTON -->
  <section class="card">
    <a id="paylink" class="btn" href="#">Pay with PayPal</a>
    <div class="footnote" id="terms-line">
      By paying you agree to our <a href="/terms.html">Terms</a> and <a href="/refunds.html">Refunds</a>.
    </div>

    <noscript>
      <div class="warn">
        <div id="ns-note">JavaScript is off. Your total is <strong id="noscript-total">$75.00</strong>.</div>
        <div id="ns-pay">Pay here:</div>
        <code id="noscript-url">https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=payments@edunancial.com&item_name=Mini%20Course%20Edunancial%20Method&custom=EDN-MINI-EM-001&amount=75.00&currency_code=USD&return=https%3A%2F%2Fedunancial.com%2Fthank-you-bilingual.html</code>
      </div>
    </noscript>
  </section>
</main>

<script>
(function(){
  // ----- CONFIG -----
  const PAYPAL_EMAIL = "payments@edunancial.com"; // change if your PayPal email differs
  const RETURN_URL   = "https://edunancial.com/thank-you-bilingual.html"; // absolute URL
  const ITEM_NAME_EN = "Mini Course: Edunancial Method";
  const ITEM_NAME_ES = "Mini Curso: Método Edunancial";
  const SKU = "EDN-MINI-EM-001";
  const BASE_PRICE = 75.00;

  const EARLY_BIRD_PCT = 15;
  const EB_END = new Date('2025-09-26T23:59:59');

  const MEMBERSHIP_PCT = { none: 0, standard: 10, premium: 30 }; // courses
  const U18_CODES = { "PR271534$$": 0 }; // set % if you later add under-18 discount

  // ----- LANGUAGE -----
  let lang = 'en';
  const T = {
    en: {
      header: "EDUNANCIAL CHECKOUT",
      prod: "Mini Course: Edunancial Method",
      skuLbl: "SKU:",
      baseLbl: "Base",
      memLbl: "Membership",
      optNone: "None (0%)",
      optStd: "Standard (10% off courses)",
      optPre: "Premium (30% off courses)",
      u18: "I am under 18",
      codeLbl: "Discount / Under-18 Code",
      eb: "Early-bird: <strong>15% off</strong> through <span id='eb-date'></span> applies automatically.",
      sSub: "Subtotal:",
      sMem: "Membership discount:",
      sEb:  "Early-bird:",
      sU18: "Under-18 code:",
      sTot: "Total:",
      pay:  "Pay with PayPal",
      terms: 'By paying you agree to our <a href="/terms.html">Terms</a> and <a href="/refunds.html">Refunds</a>.',
      ns1: "JavaScript is off. Your total is ",
      ns2: "Pay here:"
    },
    es: {
      header: "CAJA EDUNANCIAL",
      prod: "Mini Curso: Método Edunancial",
      skuLbl: "SKU:",
      baseLbl: "Base",
      memLbl: "Membresía",
      optNone: "Ninguna (0%)",
      optStd: "Estándar (10% de descuento en cursos)",
      optPre: "Premium (30% de descuento en cursos)",
      u18: "Soy menor de 18 años",
      codeLbl: "Código de Descuento / Menor de 18",
      eb: "Lanzamiento: <strong>15% de descuento</strong> hasta <span id='eb-date'></span>, se aplica automáticamente.",
      sSub: "Subtotal:",
      sMem: "Descuento de membresía:",
      sEb:  "Descuento de lanzamiento:",
      sU18: "Código menor de 18:",
      sTot: "Total:",
      pay:  "Pagar con PayPal",
      terms: 'Al pagar aceptas nuestros <a href="/terms.html">Términos</a> y <a href="/refunds.html">Reembolsos</a>.',
      ns1: "JavaScript está desactivado. Tu total es ",
      ns2: "Paga aquí:"
    }
  };

  const $ = (s,d=document)=>d.querySelector(s);
  const fmt = n => '$' + n.toFixed(2);

  function setLang(l){
    lang = l;
    $('#title').textContent = T[l].header;
    $('#prod-name').textContent = T[l].prod;
    $('#sku-label').textContent = T[l].skuLbl;
    $('#base-label').textContent = T[l].baseLbl;
    $('#lab-mem').textContent = T[l].memLbl;
    $('#opt-none').textContent = T[l].optNone;
    $('#opt-std').textContent = T[l].optStd;
    $('#opt-pre').textContent = T[l].optPre;
    $('#lab-u18').textContent = T[l].u18;
    $('#lab-code').textContent = T[l].codeLbl;
    $('#eb-foot').innerHTML = T[l].eb;
    // restore EB date after innerHTML swap
    $('#eb-date').textContent = EB_END.toLocaleDateString(l==='es'?'es-ES':'en-US');
    $('#s-lbl-sub').textContent = T[l].sSub;
    $('#s-lbl-mem').textContent = T[l].sMem;
    $('#s-lbl-eb').textContent  = T[l].sEb;
    $('#s-lbl-u18').textContent = T[l].sU18;
    $('#s-lbl-total').textContent = T[l].sTot;
    $('#paylink').textContent = T[l].pay;
    $('#terms-line').innerHTML = T[l].terms;

    // noscript messages (shown only if JS off, but set strings anyway)
    const ns1 = T[l].ns1, ns2 = T[l].ns2;
    const nsNote = document.getElementById('ns-note'); if (nsNote) nsNote.innerHTML = ns1 + '<strong id="noscript-total">$75.00</strong>.';
    const nsPay  = document.getElementById('ns-pay');  if (nsPay) nsPay.textContent = ns2;

    // header toggles
    document.getElementById('lnk-en').classList.toggle('active', l==='en');
    document.getElementById('lnk-es').classList.toggle('active', l==='es');
  }

  // Language toggle
  document.getElementById('lnk-en').addEventListener('click', e=>{e.preventDefault(); setLang('en'); updatePayPalLink();});
  document.getElementById('lnk-es').addEventListener('click', e=>{e.preventDefault(); setLang('es'); updatePayPalLink();});

  // Date label
  $('#eb-date').textContent = EB_END.toLocaleDateString('en-US');

  function calcTotal(){
    const membership = $('#membership').value;
    const under18 = $('#under18').checked;
    const code = $('#code').value.trim();

    const subtotal = BASE_PRICE;
    const memDisc = +(subtotal * (MEMBERSHIP_PCT[membership]||0)/100);
    const ebDisc  = (new Date() <= EB_END) ? +(subtotal * (EARLY_BIRD_PCT/100)) : 0;

    let u18Disc = 0;
    if (under18 && code && (code in U18_CODES) && U18_CODES[code] > 0){
      u18Disc = +(subtotal * (U18_CODES[code]/100));
    }

    let totalDisc = memDisc + ebDisc + u18Disc;
    if (totalDisc > subtotal) totalDisc = subtotal;

    const total = +(subtotal - totalDisc);

    // Update UI
    $('#s_sub').textContent = fmt(subtotal);
    $('#s_mem').textContent = '-' + fmt(memDisc).slice(1);
    $('#s_eb').textContent  = '-' + fmt(ebDisc).slice(1);
    $('#s_u18').textContent = '-' + fmt(u18Disc).slice(1);
    $('#s_total').textContent = fmt(total);

    return total;
  }

  function updatePayPalLink(){
    const total = calcTotal();
    const itemName = (lang==='es') ? ITEM_NAME_ES : ITEM_NAME_EN;

    const params = new URLSearchParams({
      cmd: "_xclick",
      business: PAYPAL_EMAIL,
      item_name: itemName,
      custom: SKU,
      amount: total.toFixed(2),
      currency_code: "USD",
      return: RETURN_URL
    });
    const url = "https://www.paypal.com/cgi-bin/webscr?" + params.toString();
    $('#paylink').setAttribute('href', url);

    const ns = document.getElementById('noscript-url');
    if (ns) ns.textContent = url;
    const nst = document.getElementById('noscript-total');
    if (nst) nst.textContent = fmt(total);
  }

  ['change','keyup','click'].forEach(evt=>{
    document.addEventListener(evt, e=>{
      if (['membership','under18','code','paylink'].includes(e.target.id) || e.type!=='click'){
        updatePayPalLink();
      }
    });
  });

  // Init
  setLang('en');
  updatePayPalLink();
})();
</script>
</body>
</html>
