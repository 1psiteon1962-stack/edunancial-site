<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout — Edunancial</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background:#fff; color:#000; }
    header { background:#b30000; color:#fff; padding:1rem; text-align:center; font-weight:bold; }
    .container { max-width:500px; margin:2rem auto; padding:1.5rem; border:1px solid #ccc; border-radius:8px; background:#fafafa; }
    h2 { margin-top:0; }
    .totals { margin:1rem 0; }
    .totals p { margin:0.25rem 0; }
    #paypal-button-container { margin-top:1rem; }
    #paypal-fallback { 
      display:none; 
      margin-top:1rem; 
      padding:1rem; 
      border:1px solid #e53935; 
      background:#ffebee; 
      color:#b71c1c; 
      border-radius:6px;
      font-size:0.95rem;
    }
  </style>
</head>
<body>
  <header>EDUNANCIAL CHECKOUT</header>
  <div class="container">
    <h2>Mini Course: Edunancial Method</h2>
    <p>SKU: EDN-MINI-EM-001</p>
    <div class="totals">
      <p>Subtotal: $75.00</p>
      <p>Membership discount: -$0.00</p>
      <p>Early-bird: -$11.25</p>
      <p>Under-18 code: -$62.75</p>
      <p><strong>Total: $1.00</strong></p>
    </div>
    <p>By paying you agree to our <a href="/terms.html">Terms</a> and <a href="/refunds.html">Refunds</a>.</p>

    <!-- PayPal Button -->
    <div id="paypal-button-container"></div>

    <!-- Fallback Message -->
    <div id="paypal-fallback">
      ⚠️ PayPal checkout button not showing.<br><br>
      Please disable <strong>ad-blockers</strong> or <strong>Private DNS</strong> on your phone/browser, 
      or try switching between Wi-Fi and mobile data.  
      Then refresh this page.
    </div>
  </div>

  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_LIVE_CLIENT_ID&currency=USD"></script>

  <script>
    // Try to render the PayPal button
    if (window.paypal) {
      paypal.Buttons({
        style: { layout: 'vertical', color: 'gold', shape: 'rect', label: 'paypal' },
        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{
              description: "Mini Course: Edunancial Method",
              amount: { value: "1.00" }
            }]
          });
        },
        onApprove: function(data, actions) {
          return actions.order.capture().then(function(details) {
            alert("Transaction completed by " + details.payer.name.given_name);
          });
        }
      }).render('#paypal-button-container').catch(function() {
        document.getElementById('paypal-fallback').style.display = 'block';
      });
    }

    // If PayPal script didn’t load in 5 seconds, show fallback
    setTimeout(function() {
      if (!document.querySelector('#paypal-button-container iframe')) {
        document.getElementById('paypal-fallback').style.display = 'block';
      }
    }, 5000);
  </script>
</body>
</html>
