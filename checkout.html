<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout — Edunancial</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <!-- Global header / language toggle -->
  <div id="sitebar"></div>
  <script src="/header.js"></script>

  <main class="container">
    <section class="card">
      <h1>Checkout</h1>
      <p><strong>SKU:</strong> EDN-CRS-MIX-001</p>

      <!-- ⚠️ PASTE YOUR PAYPAL hosted_button_id BELOW (only this value) -->
      <!-- Create/locate it in PayPal > Buttons > "Buy Now" (hosted). -->
      <form id="paypalForm" class="stack" method="post" action="https://www.paypal.com/cgi-bin/webscr" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="PASTE_YOUR_HOSTED_BUTTON_ID_HERE">
        <input type="hidden" name="item_name" value="The Edunancial Method — Mini Course (EDN-CRS-MIX-001)">
        <input type="hidden" name="currency_code" value="USD">
        <input type="hidden" name="no_shipping" value="1">
        <input type="hidden" name="return" value="https://edunancial.com/thank-you.html">
        <input type="hidden" name="cancel_return" value="https://edunancial.com/checkout.html">

        <!-- Amount PayPal will charge (we set this before submit) -->
        <input type="hidden" name="amount" id="ppAmount" value="75.00">

        <fieldset class="row">
          <legend class="label">Age group</legend>
          <label class="radio"><input type="radio" name="age" value="adult"> 18 or older</label>
          <label class="radio"><input type="radio" name="age" value="under"> Under 18</label>
        </fieldset>

        <div class="row">
          <label for="code" class="label">Discount / Under-18 Code</label>
          <input id="code" name="code" type="text" class="input" placeholder="Enter code" autocomplete="off" />
        </div>

        <p class="muted">Price:</p>
        <p class="price">$<span id="shownAmount">75.00</span></p>

        <button type="submit" class="btn btn-primary">Continue to PayPal</button>
        <p id="formMsg" class="tiny muted"></p>

        <p class="tiny muted">
          By paying you agree to our <a href="/terms.html">Terms</a> and <a href="/refunds.html">Refunds</a>.
        </p>
      </form>
    </section>
  </main>

  <footer class="container tiny muted">© 2025 Edunancial, Inc.</footer>

  <script>
  (function(){
    var form = document.getElementById('paypalForm');
    var shown = document.getElementById('shownAmount');
    var ppAmount = document.getElementById('ppAmount');
    var msg = document.getElementById('formMsg');
    var code = document.getElementById('code');

    var BASE = 75.00;
    function age(){ var r=form.querySelector('input[name="age"]:checked'); return r?r.value:''; }
    function hasCode(){ return (code.value||'').trim().length>0; }
    function eligible(){ return age()==='under' && hasCode(); }
    function compute(){ return eligible()?3.00:BASE; }
    function render(){ var a=compute(); shown.textContent=a.toFixed(2); }

    form.addEventListener('input', render);
    form.addEventListener('change', render);
    render();

    form.addEventListener('submit', function(e){
      msg.textContent='';
      if(!age()){ e.preventDefault(); msg.textContent='Select an age group.'; return; }
      if(age()==='under' && !hasCode()){ e.preventDefault(); msg.textContent='Enter the under-18 code.'; return; }
      // Set PayPal amount just before submit (classic GoDaddy flow)
      ppAmount.value = compute().toFixed(2);
    });
  })();
  </script>
</body>
</html>
