<script>
// ===== Simple i18n store (EN/ES) =====
window.EDN_I18N = {
  en: {
    brand: "Edunancial",
    nav_home: "Home",
    nav_plans: "Plans",
    nav_story: "Our Story",
    nav_contact: "Contact",
    hero_h1: "Financial literacy for everyone — bilingual and practical",
    hero_p: "Learn budgeting, credit, saving, and investing the clear way. Lessons, templates, and community — with flexible pricing.",
    cta_how: "How it works",
    cta_story: "Our story",
    cta_plans: "View plans",
    how_title: "How it works",
    how_1_h: "1. Learn",
    how_1_p: "Short EN/ES lessons with real examples and downloadable templates.",
    how_2_h: "2. Apply",
    how_2_p: "Use toolkit templates to budget, save, and start investing with confidence.",
    how_3_h: "3. Grow",
    how_3_p: "Build habits, join community tips, and level-up with advanced lessons.",
    plans_title: "Plans",
    plans_sub: "Clear, flexible pricing. You’ll see the final amount before checkout.",
    plan_basic: "Basic",
    plan_gold: "Gold",
    plan_monthly: "Monthly",
    plan_annual: "Annual",
    plan_upgrade: "Upgrade to Gold",
    plan_includes: "Includes",
    plan_free_pamphlet: "Free financial literacy pamphlet for all members.",
    plan_basic_benefits: "Site access to lessons and templates",
    plan_gold_benefits: "Everything in Basic + discounts, early-bird offers, member specials",
    plan_btn_select: "Select",
    story_title: "Our Story",
    story_h2: "Anyone can learn money skills.",
    story_body_1: "When my son was 11, he walked in as a client payment hit my phone.",
    story_body_2: "He asked how I did that. I told him that in the military I worked with my back—now I work with my head.",
    story_body_3: "I asked him which he wanted. He thought, then chose his head, and asked me to teach him. Edunancial was born.",
    story_body_4: "Now at 15, with his own funds, he has bought and sold stocks with 8–12% ROI, owns physical silver and gold, and plans a business.",
    story_body_5: "The skills he learned can last a lifetime—and we created Edunancial so anyone can learn them.",
    contact_title: "Contact Us",
    contact_lead: "Send us a message and we’ll reply within 1 business day.",
    contact_name: "Your Name",
    contact_email: "Email",
    contact_message: "Message",
    contact_send: "Send",
    members_title: "Members",
    members_lead: "Welcome. Choose a member action below.",
    members_basic: "Basic: view lessons/templates",
    members_gold: "Gold: access discounts & specials",
    videos_title: "Videos",
    videos_free: "Free snippets",
    videos_paid: "Member videos (paid or discounted)",
    shop_title: "Shop",
    shop_lead: "Books, templates, and toolkits. (Square checkout coming soon.)",
    thank_title: "Thank you",
    thank_lead: "Your membership is active. Check your email for details.",
    notfound_title: "Page not found",
    notfound_lead: "Let’s take you back home.",
    footer_privacy: "Privacy",
    footer_terms: "Terms",
    footer_refunds: "Refunds",
    cookie_text: "We use cookies for analytics to improve Edunancial. Do you consent?",
    cookie_yes: "Accept",
    cookie_no: "No thanks"
  },
  es: {
    brand: "Edunancial",
    nav_home: "Inicio",
    nav_plans: "Planes",
    nav_story: "Nuestra historia",
    nav_contact: "Contacto",
    hero_h1: "Educación financiera para todos — bilingüe y práctica",
    hero_p: "Aprende presupuestos, crédito, ahorro e inversión de forma clara. Lecciones, plantillas y comunidad — con precios flexibles.",
    cta_how: "Cómo funciona",
    cta_story: "Nuestra historia",
    cta_plans: "Ver planes",
    how_title: "Cómo funciona",
    how_1_h: "1. Aprende",
    how_1_p: "Lecciones cortas EN/ES con ejemplos reales y plantillas descargables.",
    how_2_h: "2. Aplica",
    how_2_p: "Usa las plantillas para presupuestar, ahorrar e invertir con confianza.",
    how_3_h: "3. Crece",
    how_3_p: "Crea hábitos, únete a consejos de la comunidad y avanza con lecciones avanzadas.",
    plans_title: "Planes",
    plans_sub: "Precios claros y flexibles. Verás el total antes del pago.",
    plan_basic: "Básico",
    plan_gold: "Oro",
    plan_monthly: "Mensual",
    plan_annual: "Anual",
    plan_upgrade: "Mejorar a Oro",
    plan_includes: "Incluye",
    plan_free_pamphlet: "Folleto gratuito de educación financiera para todos.",
    plan_basic_benefits: "Acceso al sitio con lecciones y plantillas",
    plan_gold_benefits: "Todo en Básico + descuentos, ofertas early-bird y especiales",
    plan_btn_select: "Seleccionar",
    story_title: "Nuestra historia",
    story_h2: "Cualquiera puede aprender finanzas.",
    story_body_1: "Cuando mi hijo tenía 11 años, entró mientras llegaba el pago de un cliente.",
    story_body_2: "Me preguntó cómo lo hice. Le dije que en el ejército trabajé con la espalda—ahora trabajo con la cabeza.",
    story_body_3: "Le pregunté qué prefería. Pensó, eligió la cabeza y me pidió aprender. Así nació Edunancial.",
    story_body_4: "Ahora con 15 años, con su propio dinero, ha comprado y vendido acciones con 8–12% ROI, posee plata y oro, y planea un negocio.",
    story_body_5: "Estas habilidades duran toda la vida, y creamos Edunancial para que cualquiera las aprenda.",
    contact_title: "Contáctanos",
    contact_lead: "Envíanos un mensaje y responderemos en 1 día laboral.",
    contact_name: "Nombre",
    contact_email: "Correo",
    contact_message: "Mensaje",
    contact_send: "Enviar",
    members_title: "Miembros",
    members_lead: "Bienvenido. Elige una acción de miembro.",
    members_basic: "Básico: ver lecciones/plantillas",
    members_gold: "Oro: acceder a descuentos y especiales",
    videos_title: "Videos",
    videos_free: "Clips gratuitos",
    videos_paid: "Videos para miembros (pagos o con descuento)",
    shop_title: "Tienda",
    shop_lead: "Libros, plantillas y paquetes. (Pronto pago con Square.)",
    thank_title: "Gracias",
    thank_lead: "Tu membresía está activa. Revisa tu email.",
    notfound_title: "Página no encontrada",
    notfound_lead: "Volvamos al inicio.",
    footer_privacy: "Privacidad",
    footer_terms: "Términos",
    footer_refunds: "Reembolsos",
    cookie_text: "Usamos cookies de analítica para mejorar Edunancial. ¿Das tu consentimiento?",
    cookie_yes: "Aceptar",
    cookie_no: "No gracias"
  }
};

// ===== Helpers =====
function ednGetLang() {
  const url = new URL(location.href);
  const q = url.searchParams.get("lang");
  if (q === "es" || q === "en") return q;
  return localStorage.getItem("edn_lang") || (navigator.language||"en").startsWith("es") ? "es" : "en";
}
function ednSetLang(lang){
  localStorage.setItem("edn_lang", lang);
  const url = new URL(location.href);
  url.searchParams.set("lang", lang);
  history.replaceState(null, "", url.toString());
}

function ednTranslate(root=document){
  const lang = ednGetLang();
  const dict = EDN_I18N[lang];
  root.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });
  document.documentElement.setAttribute("lang", lang);
}

// ===== Nav EN/ES buttons =====
document.addEventListener("DOMContentLoaded", ()=>{
  // Translate on load
  ednTranslate();

  // Wire language buttons if present
  document.querySelectorAll("[data-edn-lang]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const lang = btn.getAttribute("data-edn-lang");
      ednSetLang(lang);
      ednTranslate();
      // allow other modules to refresh
      window.dispatchEvent(new Event("edn:lang"));
    });
  });
});
</script>
