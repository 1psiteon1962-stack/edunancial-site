
<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Libros â€” Edunancial</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="container">
  <h1>Libros (Tapa blanda)</h1>
  <section class="card" id="list"></section>
</div>

<script src="/header.js?v=7" defer></script>
<script>
document.addEventListener('DOMContentLoaded', async ()=>{
  const res=await fetch('/config.json?ts='+Date.now()); const cfg=await res.json();
  const SKUS=['EDN-BK-RE-001','EDN-BK-RE-002','EDN-BK-PA-001','EDN-BK-PA-002','EDN-BK-BU-001','EDN-BK-BU-002','EDN-BK-RE-003','EDN-BK-PA-003'];
  const el=document.getElementById('list'); el.innerHTML='';
  SKUS.forEach(sku=>{
    const p=cfg.products[sku];
    const div=document.createElement('div'); div.className='product';
    div.innerHTML=`<div>
        <h3>${p.name}</h3>
        <div class="small">Autor: Waldemar M. Caban, JD MA &nbsp;|&nbsp; SKU: ${sku}</div>
      </div>
      <div>
        <div class="small">$${(+p.price).toFixed(2)}</div>
        <button class="btn" data-sku="${sku}">Agregar al Carrito</button>
      </div>`;
    el.appendChild(div);
  });
  el.addEventListener('click',e=>{
    const btn=e.target.closest('button[data-sku]'); if(!btn) return;
    window.EDN.addToCart(btn.dataset.sku);
  });
});
</script>
</body>
</html>
