<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mejorar Membresía — Edunancial</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="container">
  <h1>Mejorar Membresía</h1>
  <section class="card">
    <label>Elige el nuevo nivel:</label>
    <select id="tier">
      <option value="starter">Starter ($5/mes)</option>
      <option value="growth">Growth ($15/mes)</option>
      <option value="pro">Pro ($25/mes)</option>
    </select>
    <button class="btn" id="add">Agregar al Carrito</button>
  </section>
</div>

<script src="/header.js?v=7" defer></script>
<script>
document.addEventListener('DOMContentLoaded',async()=>{
  const cfg=await (await fetch('/config.json?ts='+Date.now())).json();
  document.getElementById('add').addEventListener('click',()=>{
    const k=document.getElementById('tier').value; const t=cfg.memberships[k];
    const item={sku:`UPG-${k.toUpperCase()}`, title:`Mejora de Membresía — ${t.name}`, price:+t.price, qty:1};
    const cart=JSON.parse(localStorage.getItem('EDN_CART')||'[]'); cart.push(item);
    localStorage.setItem('EDN_CART', JSON.stringify(cart)); window.EDN.updateCartCount(); alert('Agregado '+item.title);
  });
});
</script>
</body>
</html>
