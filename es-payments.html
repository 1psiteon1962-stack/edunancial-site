<!doctype html>
<html lang="es"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Pagar — Edunancial</title>
<link rel="stylesheet" href="style.css">
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
<style>.banner{background:#c00;color:#000;padding:.75rem 1rem;text-align:center;font-weight:700}.box{max-width:700px;margin:0 auto;padding:1rem}.card{border:1px solid #ddd;border-radius:12px;padding:1rem}</style>
</head><body>
<div class="banner">EDUNANCIAL PAGO</div>
<main class="box">
  <div class="card">
    <h1 id="title">Pagar</h1>
    <p id="summary"></p>
    <div id="paypal-btn"></div>
    <p style="font-size:.9rem;opacity:.8;margin-top:1rem">Al pagar aceptas nuestros <a href="terms.html">Términos</a> y <a href="refunds.html">Reembolsos</a>.</p>
  </div>
</main>
<script>
  const p=new URLSearchParams(location.search);
  const item=p.get('item')||'Producto Edunancial';
  const price=(p.get('price')||'0').replace(/[^0-9.]/g,'');
  document.getElementById('title').textContent=item;
  document.getElementById('summary').textContent=`Total: $${price}`;

  paypal.Buttons({
    style:{shape:'rect',layout:'vertical'},
    createOrder:(data,actions)=>actions.order.create({
      purchase_units:[{description:item,amount:{value:price}}]
    }),
    onApprove:(data,actions)=>actions.order.capture().then(function(){
      location.href=`es-thank-you.html?item=${encodeURIComponent(item)}&amount=${encodeURIComponent(price)}`;
    }),
    onError:(err)=>alert('Error de pago. Intenta de nuevo.')
  }).render('#paypal-btn');
</script>
</body></html>
