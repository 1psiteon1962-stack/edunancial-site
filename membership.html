<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Edunancial — Memberships</title>
<link rel="stylesheet" href="style.css"/>
<!-- PayPal SDK (LIVE) -->
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_LIVE_CLIENT_ID&vault=true&intent=subscription&currency=USD"></script>
</head>
<body>
<header class="site-header">
  <div class="brand">Edunancial</div>
  <nav class="nav">
    <a href="index.html">Our Story</a>
    <a href="memberships.html" class="active">Memberships</a>
    <a href="catalog.html">Catalog</a>
  </nav>
  <div class="lang-toggle">
    <button id="btn-en" class="pill active">EN</button>
    <button id="btn-es" class="pill">ES</button>
  </div>
</header>

<main class="wrap">
  <!-- EN -->
  <section id="mship-en" class="lang active">
    <h1>Choose Your Membership</h1>
    <p class="muted">Upgrade anytime. Cancel anytime from your PayPal account.</p>

    <div class="cards">
      <article class="card">
        <h3>Basic</h3>
        <div class="price">$9.99<span class="per">/mo</span></div>
        <ul>
          <li>Member pricing on courses & paperback books</li>
          <li>Members-only downloads</li>
        </ul>
        <div class="paypal-box"><div id="pp-basic-en"></div></div>
      </article>

      <article class="card">
        <h3>Growth <span class="badge">Popular</span></h3>
        <div class="price">$19.99<span class="per">/mo</span></div>
        <ul>
          <li>Everything in Basic</li>
          <li>Priority email/chat support</li>
        </ul>
        <div class="paypal-box"><div id="pp-growth-en"></div></div>
      </article>

      <article class="card">
        <h3>Pro</h3>
        <div class="price">$29.99<span class="per">/mo</span></div>
        <ul>
          <li>Everything in Growth</li>
          <li>Deeper member discounts</li>
        </ul>
        <div class="paypal-box"><div id="pp-pro-en"></div></div>
      </article>
    </div>
  </section>

  <!-- ES -->
  <section id="mship-es" class="lang">
    <h1>Elige tu Membresía</h1>
    <p class="muted">Mejora cuando quieras. Cancela desde tu cuenta de PayPal.</p>

    <div class="cards">
      <article class="card">
        <h3>Básica</h3>
        <div class="price">$9.99<span class="per">/mes</span></div>
        <ul>
          <li>Precios de miembro en cursos y libros</li>
          <li>Descargas solo para miembros</li>
        </ul>
        <div class="paypal-box"><div id="pp-basic-es"></div></div>
      </article>

      <article class="card">
        <h3>Crecimiento <span class="badge">Popular</span></h3>
        <div class="price">$19.99<span class="per">/mes</span></div>
        <ul>
          <li>Todo en Básica</li>
          <li>Soporte prioritario</li>
        </ul>
        <div class="paypal-box"><div id="pp-growth-es"></div></div>
      </article>

      <article class="card">
        <h3>Pro</h3>
        <div class="price">$29.99<span class="per">/mes</span></div>
        <ul>
          <li>Todo en Crecimiento</li>
          <li>Descuentos más profundos</li>
        </ul>
        <div class="paypal-box"><div id="pp-pro-es"></div></div>
      </article>
    </div>
  </section>
</main>

<footer class="footer">© <span id="yr"></span> Edunancial</footer>

<script>
  // Language toggle (persist)
  const en = document.getElementById('mship-en');
  const es = document.getElementById('mship-es');
  const btnEN = document.getElementById('btn-en');
  const btnES = document.getElementById('btn-es');
  function setLang(code){
    const isEN = code === 'en';
    en.classList.toggle('active', isEN);
    es.classList.toggle('active', !isEN);
    btnEN.classList.toggle('active', isEN);
    btnES.classList.toggle('active', !isEN);
    localStorage.setItem('ed_lang', code);
  }
  btnEN.addEventListener('click', ()=>setLang('en'));
  btnES.addEventListener('click', ()=>setLang('es'));
  setLang(localStorage.getItem('ed_lang') || 'en');
  document.getElementById('yr').textContent = new Date().getFullYear();

  // PayPal Plan IDs (REPLACE with your LIVE plan IDs)
  const PLAN = {
    BASIC:  "BASIC_PLAN_ID",
    GROWTH: "GROWTH_PLAN_ID",
    PRO:    "PRO_PLAN_ID"
  };

  // Render helper
  function renderSub(containerId, planId){
    const el = document.getElementById(containerId);
    if(!el || !window.paypal) return;
    el.innerHTML = '';
    paypal.Buttons({
      style:{ layout:'vertical', color:'gold', shape:'pill', label:'subscribe', tagline:false, height:48 },
      createSubscription: (data, actions)=>actions.subscription.create({ plan_id: planId }),
      onApprove: ()=>{ window.location.href = 'catalog.html'; } // return to catalog after payment
    }).render('#'+containerId);
  }

  function renderAll(){
    renderSub('pp-basic-en',  PLAN.BASIC);
    renderSub('pp-growth-en', PLAN.GROWTH);
    renderSub('pp-pro-en',    PLAN.PRO);
    renderSub('pp-basic-es',  PLAN.BASIC);
    renderSub('pp-growth-es', PLAN.GROWTH);
    renderSub('pp-pro-es',    PLAN.PRO);
  }
  renderAll();
</script>
</body>
</html>
