<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Edunancial — Mini-Cursos</title>
<link rel="stylesheet" href="style.css" />
<style>
  body{margin:0;font-family:Arial,Helvetica,sans-serif;line-height:1.6}
  header{background:#c00;color:#000;padding:1rem;text-align:center}
  header h1{margin:0;font-size:1.2rem}
  nav{margin-top:.5rem}
  nav a{color:#000;margin:0 .5rem;text-decoration:none;font-weight:bold}
  nav a:hover{text-decoration:underline}
  main{max-width:900px;margin:2rem auto;padding:0 1rem}
  .card{border:1px solid #d9d9d9;border-radius:12px;padding:1rem;margin:1rem 0;background:#fff}
  .badge{display:inline-block;padding:.2rem .5rem;border-radius:9999px;font-size:.75rem;font-weight:700;margin-left:.5rem;border:2px solid #000}
  .badge.rwb{background:linear-gradient(90deg,#c00 0 33%,#fff 33% 66%,#0d47a1 66%);color:#000}
  .btn{display:inline-block;background:#002b5c;color:#fff;text-decoration:none;padding:.6rem 1rem;border-radius:8px}
  label{display:block;margin:.4rem 0 .2rem}
  input,select{width:100%;max-width:420px;padding:.55rem;border:1px solid #999;border-radius:8px}
  .row{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center}
  .notice{background:#f9f9f9;border:1px solid #c00;padding:1rem;border-radius:10px;margin-top:.75rem}
</style>
</head>
<body>
  <header>
    <h1>EDUNANCIAL · Educación financiera práctica</h1>
    <nav>
      <a href="es-our-story.html">Nuestra historia</a>
      <a href="es-books.html">Libros</a>
      <a href="es-courses.html">Cursos</a>
      <a href="es-mini-courses.html">Mini-cursos</a>
      <a href="es-pricing.html">Precios</a>
      <a href="es-contact.html">Contacto</a>
      <a href="mini-courses.html">EN</a>
    </nav>
  </header>

  <main>
    <h2>Mini-cursos</h2>

    <article class="card" id="mini-edunancial-method">
      <h3>Método Edunancial: Ayuda a tus hijos / ayúdate tú
        <span class="badge rwb">Rojo · Blanco · Azul</span>
      </h3>
      <p><strong>Fecha:</strong> 5 de octubre de 2025 · <strong>Inicio:</strong> 2:00 PM</p>

      <div class="notice">
        <div class="row">
          <div><strong>Precio base:</strong> $<span>75.00</span> (precio máximo: $199)</div>
        </div>

        <label for="mcMemberES">Membresía</label>
        <select id="mcMemberES">
          <option value="none" selected>Ninguna</option>
          <option value="basic">Básica (10% dcto.)</option>
          <option value="plus">Plus (20% dcto.)</option>
          <option value="pro">Pro (30% dcto.)</option>
        </select>

        <div class="row" style="margin-top:.4rem">
          <div><em>Early-bird:</em> 10% adicional si compras antes del <strong>26-Sep-2025</strong>.</div>
        </div>

        <div class="row" style="margin-top:.4rem">
          <label for="mcNpoCodeES" style="margin:0">Código ONG (menores de 18)</label>
          <input id="mcNpoCodeES" type="text" placeholder="Código (opcional)">
          <label style="display:inline-flex;align-items:center;gap:.4rem;margin:0">
            <input id="mcUnder18ES" type="checkbox"> Confirmo que es para un menor de 18
          </label>
        </div>

        <p style="margin:.6rem 0 0"><strong>Tu precio:</strong> $<span id="mcPriceOutES">75.00</span></p>
        <p><a id="mcBuyES" class="btn" href="es-payments.html?item=Mini-curso%3A%20M%C3%A9todo%20Edunancial&sku=EDN-MINI-EM-001&price=75.00">Comprar</a></p>
      </div>
    </article>
  </main>

<script>
/* ===== Configuración de descuentos ===== */
const MAX_PRICE = 199.00;
const EARLY_BIRD_DEADLINE = new Date('2025-09-26T23:59:59'); // límite early-bird
const NONPROFIT_CODE = 'NPO-UNDER18'; // <-- coloca tu código real
const NONPROFIT_PCT  = 0.00;          // <-- porcentaje ONG (0.40 = 40%); 0.00 = desactivado
/* ====================================== */

(function(){
  const base = 75.00;
  const memberSel = document.getElementById('mcMemberES');
  const codeInput = document.getElementById('mcNpoCodeES');
  const u18 = document.getElementById('mcUnder18ES');
  const out = document.getElementById('mcPriceOutES');
  const buy = document.getElementById('mcBuyES');

  function m(v){return v==='basic'?0.10:v==='plus'?0.20:v==='pro'?0.30:0}
  function eb(){return (new Date()<=EARLY_BIRD_DEADLINE)?0.10:0}
  function npo(){return NONPROFIT_PCT>0 && u18.checked && codeInput.value.trim().toUpperCase()===NONPROFIT_CODE}

  function calc(){
    let p=base;
    p*= (1-m(memberSel.value));
    p*= (1-eb());
    if(npo()) p*= (1-NONPROFIT_PCT);
    if(p>MAX_PRICE) p=MAX_PRICE;
    p=Math.round(p*100)/100;
    out.textContent=p.toFixed(2);
    buy.href=`es-payments.html?item=${encodeURIComponent('Mini-curso: Método Edunancial')}&sku=EDN-MINI-EM-001&price=${p.toFixed(2)}`;
  }
  [memberSel,codeInput,u18].forEach(el=>el.addEventListener('input',calc));
  calc();
})();
</script>
</body>
</html>
