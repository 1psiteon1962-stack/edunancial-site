<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edunancial — Mini-Courses</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .card{border:1px solid #ccc;padding:1rem;margin:1rem 0;border-radius:8px}
    .btn{background:#c00;color:#fff;padding:.5rem 1rem;border-radius:6px;text-decoration:none}
    .badge{padding:.2rem .5rem;border-radius:4px;font-size:.8rem;margin-left:.4rem}
    .rwb{background:#002b5c;color:#fff}
    .notice{background:#f5f5f5;padding:.75rem;border-radius:6px;margin-top:.5rem}
  </style>
</head>
<body>
  <header>
    <div class="banner">EDUNANCIAL • Practical Financial Literacy</div>
  </header>

  <main>
    <h2>Mini-Courses</h2>

    <div class="card">
      <h3>The Edunancial Method: Help Your Children / Help Yourself
        <span class="badge rwb">Red · White · Blue</span>
      </h3>
      <p>Short, practical lessons you can apply the same day.</p>
      <p><strong>Date:</strong> October 5, 2025 — <strong>Start:</strong> 2:00 PM</p>

      <div id="miniPriceBlock" class="notice">
        <p><strong>Base price:</strong> $75.00</p>

        <label for="miniMember">Membership:</label>
        <select id="miniMember">
          <option value="none" selected>None</option>
          <option value="basic">Basic Member (10% off)</option>
          <option value="plus">Plus Member (20% off)</option>
          <option value="pro">Premium Member (30% off)</option>
        </select>

        <p><label for="miniNonprofit">Nonprofit Code (under 18):</label>
          <input type="text" id="miniNonprofit" placeholder="Enter code" />
        </p>

        <p><em>Early-bird: extra 10% off if purchased by Sep 26, 2025.</em></p>

        <p><strong>Your price:</strong> $<span id="miniCalc">75.00</span></p>

        <p>
          <a id="miniBuy" class="btn"
             href="payments.html?item=Mini-Course%3A%20Edunancial%20Method&price=75.00&sku=EDN-MINI-EM-001">
            Buy now
          </a>
        </p>
      </div>
    </div>
  </main>

  <script>
  (function(){
    const base = 75.00;
    const earlyBirdUntil = new Date('2025-09-26T23:59:59');
    const memberSel = document.getElementById('miniMember');
    const nonprofitInput = document.getElementById('miniNonprofit');
    const out = document.getElementById('miniCalc');
    const buy = document.getElementById('miniBuy');

    function memberDisc(v){
      return v==='basic'?0.10 : v==='plus'?0.20 : v==='pro'?0.30 : 0;
    }
    function earlyBird(){
      return new Date() <= earlyBirdUntil ? 0.10 : 0;
    }
    function nonprofitDisc(code){
      // Placeholder — you decide rate. Example: “YOUTH25” = 25% off
      if(code.toUpperCase()==="YOUTH25"){ return 0.25; }
      return 0;
    }
    function price(){
      const m = memberDisc(memberSel.value);
      const e = earlyBird();
      const n = nonprofitDisc(nonprofitInput.value);
      const p = base * (1 - m) * (1 - e) * (1 - n);
      return Math.round(p*100)/100;
    }
    function update(){
      const p = price().toFixed(2);
      out.textContent = p;
      buy.href = `payments.html?item=${encodeURIComponent('Mini-Course: Edunancial Method')}&price=${p}&sku=EDN-MINI-EM-001`;
    }
    memberSel.addEventListener('change', update);
    nonprofitInput.addEventListener('input', update);
    update();
  })();
  </script>
</body>
</html>
