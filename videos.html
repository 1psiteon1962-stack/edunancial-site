<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Videos — Edunancial</title>
<link rel="stylesheet" href="css/style.css">
<style>
  :root{--blue:#0b3d91;--red:#d62828;--ink:#0f172a;--muted:#64748b;--max:1100px}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--ink)}
  .container{max-width:var(--max);margin:0 auto;padding:0 16px}
  header,footer{background:#fff;border-bottom:1px solid #e5e7eb}
  .nav{display:flex;justify-content:space-between;align-items:center;padding:14px 0}
  .brand{font-weight:800;color:var(--blue);text-decoration:none}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin:18px 0}
  .card{border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff}
  .muted{color:#64748b}
  .btn{display:inline-block;padding:.5rem .9rem;border-radius:12px;text-decoration:none;font-weight:800}
  .btn.primary{background:#d62828;color:#fff;border:2px solid #d62828}
  .btn.outline{background:#fff;color:#0b3d91;border:2px solid #0b3d91}
  .badge{display:inline-block;background:#0b3d91;color:#fff;border-radius:999px;padding:.2rem .6rem;font-size:.75rem;margin-left:.4rem}
  video{width:100%;border-radius:12px;border:1px solid #e5e7eb}
</style>
<script src="edn-ui.js" defer></script>
<script src="edn-consent.js" defer></script>
</head>
<body>
<header>
  <div class="container nav">
    <a class="brand" href="index.html">Edunancial</a>
    <nav>
      <a href="index.html">Home</a> • <a href="pricing.html">Plans</a> • <a href="members.html">Members</a>
    </nav>
  </div>
</header>

<main class="container">
  <h1>Video library <span id="tier" class="badge">Basic</span></h1>
  <p class="muted">Free previews for everyone. Gold unlocks the full videos and member pricing on rentals/purchases.</p>

  <div id="video-grid" class="grid"></div>
</main>

<footer>
  <div class="container" style="padding:16px 0">
    <small>© 2025 Edunancial • <a href="privacy.html">Privacy</a> • <a href="terms.html">Terms</a> • <a href="refunds.html">Refunds</a></small>
  </div>
</footer>

<!-- membership helper -->
<script>
/* minimal helper inline (same as members page; you may reference a single shared file instead) */
const KEY="edn_member";function g(){try{return JSON.parse(localStorage.getItem(KEY)||"{}")}catch{return{}}}
function s(v){try{localStorage.setItem(KEY,JSON.stringify(v))}catch{}}
function init(){const m=g();if(!m.tier){m.tier="basic";s(m)}return m}
function cls(t){document.documentElement.classList.remove("tier-basic","tier-gold");document.documentElement.classList.add(t==="gold"?"tier-gold":"tier-basic")}
window.EDN_member=function(){return init()}
window.EDN_isGold=function(){return init().tier==="gold"}
window.EDN_setTier=function(t){const m=init();m.tier=t==="gold"?"gold":"basic";s(m);cls(m.tier);document.dispatchEvent(new CustomEvent("edn:tierchange",{detail:m.tier}))}
cls(init().tier);
</script>

<script>
const videos = [
  {
    id:"budget-basics",
    title:"Budgeting Basics",
    free:true,
    preview:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
  },
  {
    id:"credit-intro",
    title:"Credit Scores — The Essentials",
    free:false,
    price:4.99,        // public price to rent
    memberPrice:2.99,  // Gold price
    preview:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
  },
  {
    id:"investing-starter",
    title:"Investing Starter — Your First $100",
    free:false,
    price:6.99,
    memberPrice:3.99,
    preview:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
  }
];

function money(n){ return n.toLocaleString("en-US",{style:"currency",currency:"USD"}); }

function render(){
  const gold = EDN_isGold();
  document.getElementById('tier').textContent = gold ? "Gold" : "Basic";
  const grid = document.getElementById('video-grid');
  grid.innerHTML = videos.map(v=>{
    const badge = v.free ? `<span class="badge">Free</span>` : (gold?`<span class="badge">Included</span>`:`<span class="badge">Preview</span>`);
    const pricing = v.free ? "" : (gold ? `<div class="muted">Member price: Included / ${money(v.memberPrice)} rent</div>` : `<div class="muted">Rent: ${money(v.price)} • Gold: ${money(v.memberPrice)}</div>`);
    const cta = v.free
      ? `<a class="btn primary" href="${v.preview}" target="_blank">Watch</a>`
      : (gold ? `<a class="btn primary" href="${v.preview}" target="_blank">Watch full</a>`
              : `<a class="btn primary" href="pricing.html">Unlock with Gold</a>`);
    return `
      <div class="card">
        <h3>${v.title} ${badge}</h3>
        <video src="${v.preview}" controls muted playsinline></video>
        ${pricing}
        <div style="margin-top:.6rem">${cta} ${!gold && !v.free ? `<a class="btn outline" href="${v.preview}" target="_blank">Preview</a>`:""}</div>
      </div>
    `;
  }).join("");
}
render();
document.addEventListener("edn:tierchange",render);
</script>
</body>
</html>
